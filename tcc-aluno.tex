%
% exemplo genérico de uso da classe iiufrgs.cls
% $Id: iiufrgs.tex,v 1.1.1.1 2005/01/18 23:54:42 avila Exp $
%
% This is an example file and is hereby explicitly put in the
% public domain.
%
\documentclass[cic,tc]{iiufrgs}
% Para usar o modelo, deve-se informar o programa e o tipo de documento.
% Programas :
% * cic       -- Graduação em Ciência da Computação
% * ecp       -- Graduação em Ciência da Computação
% * ppgc      -- Programa de Pós Graduação em Computação
% * pgmigro   -- Programa de Pós Graduação em Microeletrônica
%
% Tipos de Documento:
% * tc                -- Trabalhos de Conclusão (apenas cic e ecp)
% * diss ou mestrado  -- Dissertações de Mestrado (ppgc e pgmicro)
% * tese ou doutorado -- Teses de Doutorado (ppgc e pgmicro)
% * ti                -- Trabalho Individual (ppgc e pgmicro)
%
% Outras Opções:
% * english    -- para textos em inglês
% * openright  -- Força início de capítulos em páginas ímpares (padrão da
% biblioteca)
% * oneside    -- Desliga frente-e-verso
% * nominatalocal -- Lê os dados da nominata do arquivo nominatalocal.def

% Use unicode
\usepackage[utf8]{inputenc}   % pacote para acentuação

% Necessário para incluir figuras
\usepackage{graphicx}         % pacote para importar figuras

\usepackage{times}            % pacote para usar fonte Adobe Times
% \usepackage{palatino}
\usepackage{inconsolata}      % pacote para usar fonte Inconsolata em
                              % ambientes de código
% \usepackage{mathptmx}       % p/ usar fonte Adobe Times nas fórmulas

\usepackage{microtype}       % pacote para microtipografia

\usepackage[alf,abnt-emphasize=bf]{abntex2cite}	% pacote para usar citações abnt

% pacotes adicionais
\usepackage{amsmath}          % pacote para usar ambientes matemáticos
\usepackage{amssymb}
\usepackage{todonotes}

\usepackage{tikz}
\usetikzlibrary{arrows.meta, automata, positioning, quotes, fit}

\usepackage{xcolor}
\usepackage{placeins}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{multicol}
\usepackage{listings}
\usepackage{listings-rust}
\usepackage{svg}
\usepackage{mwe}
\usepackage{parcolumns}
\usepackage{mathtools}

%pacotes locais
\usepackage{bcprules}

%debug line, remove before submission
\overfullrule=5pt

%
% Informações gerais
%
\title{Porcelain: um Framework Semântico para Representar e Analisar Técnicas de Segurança de Memória.}
\translatedtitle{Porcelain: A Semantic Framework for Representing and Analyzing Memory Safety Techniques}

\author{Colle}{Pedro Henrique Boniatti}
% alguns documentos podem ter varios autores:
% \author{Flaumann}{Frida Gutenberg}
% \author{Flaumann}{Klaus Gutenberg}

% orientador e co-orientador são opcionais (não diga isso pra eles :))
\advisor[Prof.~Dr.]{Machado}{Rodrigo}
% \coadvisor[Prof.~Dr.]{Knuth}{Donald Ervin}

% a data deve ser a da defesa; se nao especificada, são gerados
% mes e ano correntes
% \date{maio}{2001}

% o local de realização do trabalho pode ser especificado (ex. para TCs)
% com o comando \location:
% \location{Itaquaquecetuba}{SP}

% itens individuais da nominata podem ser redefinidos com os comandos
% abaixo:
% \renewcommand{\nominataReit}{Prof\textsuperscript{a}.~Wrana Maria Panizzi}
% \renewcommand{\nominataReitname}{Reitora}
% \renewcommand{\nominataPRE}{Prof.~Jos{\'e} Carlos Ferraz Hennemann}
% \renewcommand{\nominataPREname}{Pr{\'o}-Reitor de Ensino}
% \renewcommand{\nominataPRAPG}{Prof\textsuperscript{a}.~Joc{\'e}lia Grazia}
% \renewcommand{\nominataPRAPGname}{Pr{\'o}-Reitora Adjunta de P{\'o}s-Gradua{\c{c}}{\~a}o}
% \renewcommand{\nominataDir}{Prof.~Philippe Olivier Alexandre Navaux}
% \renewcommand{\nominataDirname}{Diretor do Instituto de Inform{\'a}tica}
% \renewcommand{\nominataCoord}{Prof.~Carlos Alberto Heuser}
% \renewcommand{\nominataCoordname}{Coordenador do PPGC}
% \renewcommand{\nominataBibchefe}{Beatriz Regina Bastos Haro}
% \renewcommand{\nominataBibchefename}{Bibliotec{\'a}ria-chefe do Instituto de Inform{\'a}tica}
% \renewcommand{\nominataChefeINA}{Prof.~Jos{\'e} Valdeni de Lima}
% \renewcommand{\nominataChefeINAname}{Chefe do \deptINA}
% \renewcommand{\nominataChefeINT}{Prof.~Leila Ribeiro}
% \renewcommand{\nominataChefeINTname}{Chefe do \deptINT}

% A seguir são apresentados comandos específicos para alguns
% tipos de documentos.

% Relatório de Pesquisa [rp]:
% \rp{123}             % numero do rp
% \financ{CNPq, CAPES} % orgaos financiadores

% Trabalho Individual [ti]:
% \ti{123}     % numero do TI
% \ti[II]{456} % no caso de ser o segundo TI

% Monografias de Especialização [espec]:
% \espec{Redes e Sistemas Distribuídos}      % nome do curso
% \coord[Profa.~Dra.]{Weber}{Taisy da Silva} % coordenador do curso
% \dept{INA}                                 % departamento relacionado

%
% palavras-chave
% iniciar todas com letras maiúsculas, exceto no caso de abreviaturas
%
\keyword{Segurança de Memória}
\keyword{Semântica Formal}
\keyword{Rust}
\keyword{Borrow Checker}

% novos comandos
\newcommand{\db}[1]{\color{red} #1 \color{black}}
\newcommand{\gb}[1]{\color{purple} #1 \color{black}}

\newcommand{\OR}{\;|\;}
\newcommand{\NLOR}{|\;}
\newcommand{\St}[1]{\langle #1 \rangle}
\newcommand{\typearg}[1]{\text{<}#1\text{>}}
\newcommand{\KW}[1]{\texttt{#1}}
\newcommand{\FN}[1]{\texttt{#1}}
\newcommand{\CD}[1]{\texttt{#1}}

\newcommand{\ignoreLtex}[1]{#1}
\newcommand{\labelRule}[2]{
	\phantomsection #1 #2
}

% cores do lstlisting

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

% NOTE: customizar a cor um pouco
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=4
}
\renewcommand*{\lstlistingname}{Programa}

\lstset{style=mystyle, escapeinside={|.}{.}}

% NOTE: usado para o todonotes fazer o display correto
\setlength{\marginparwidth}{2.5cm}



%
% palavras-chave na lingua estrangeira
% iniciar todas com letras maiúsculas, exceto no caso de abreviaturas
%
\translatedkeyword{Memory Safety}
\translatedkeyword{Formal Semantics}
\translatedkeyword{Rust}
\translatedkeyword{Borrow Checker}

%\settowidth{\seclen}{1.10~}

%
% inicio do documento
%
\begin{document}

%\lstset{inputencoding=utf8/utf8}

\lstdefinelanguage{PCLback}{%
  sensitive%
, morecomment=[l]{//}%
, morecomment=[s]{/*}{*/}%
, moredelim=[s][{\itshape\color[rgb]{0,0,0.75}}]{\#[}{]}%
, morestring=[b]{"}%
, alsodigit={}%
, alsoother={}%
, alsoletter={!}%
%
%
% [1] reserve keywords
% [2] mem keywords
% [3] pcodes 
, morekeywords={if, else, while, let, global}  
, morekeywords=[2]{malloc, free, panic}  % mem funcs
, morekeywords=[3]{OutOfBoundsRead, OutOfBoundsWrite, NullPtrDereference,UserError, UseAfterFree, UninitializedAcess, FreeMemoryNotOnHeap, PartialFree,DoubleFree
}
}

\lstdefinelanguage{PCLfront}{%
  sensitive%
, morecomment=[l]{//}%
, morecomment=[s]{/*}{*/}%
, moredelim=[s][{\itshape\color[rgb]{0,0,0.75}}]{\#[}{]}%
, morestring=[b]{"}%
, alsodigit={}%
, alsoother={}%
, alsoletter={!}%
%
%
% [1] reserve keywords
% [2] mem keywords
, morekeywords={if, else, let, var, alias}  
, morekeywords=[2]{new, delete, stop, nullalias, nullptr}  % mem funcs
}
% folha de rosto
% às vezes é necessário redefinir algum comando logo antes de produzir
% a folha de rosto:
% \renewcommand{\coordname}{Coordenadora do Curso}
\maketitle

% dedicatoria
 \clearpage
 \begin{flushright}
     \mbox{}\vfill
     {\sffamily\itshape
       ``
       Eu corro o risco de ficar como as pessoas grandes, 
	   que só se interessam por números.''\\
	   %ou Gosto que levem a sério as minhas desgraças.
     }
     --- \textsc{Antoine de Saint-Exupéry}
        % \vfill
 \end{flushright}

% agradecimentos
\chapter*{Agradecimentos}
A Célio e Marli, nada mais do que todos os agradecimentos 
do mundo por serem meus pais e por me apoiarem nessa jornada. Muito obrigado ao Vinicius, João Pedro e Eduardo, por revisarem o meu TCC e estarem comigo nos últimos dias de sufoco antes da entrega. Obrigado a Sofia por todo o apoio e amor nesses anos. Obrigado ao Tales, Tomas e Pedro, por serem família mesmo não sendo família. Por fim, dedico esse texto ao Snooby, que não pôde ler isso; e ao Chico, que não pode ler isso.


% resumo na língua do documento
\begin{abstract}
	Muitos \emph{designers} de linguagens de programação modernas notam que uma estratégia de segurança de memória é necessária para a linguagem ser levada em consideração. Mas como validar essas estratégias? Como prová-las corretas? Esse trabalho estabelece Porcelain: um \emph{framework} semântico para representar e analisar técnicas de segurança de memória. Nele, elabora-se sobre as falhas de memória, propondo uma linguagem de programação que as exemplifica. Para demonstrar a utilidade desse \emph{framework}, desenvolve-se uma das estratégias de memória com o intuito de demonstrar as capacidades de prova do modelo.
\end{abstract}

% resumo na outra língua
\begin{translatedabstract}
Many modern programming language designers have noticed that a memory safety strategy is necessary for a language to be taken into consideration. But how to validate those strategies? How to prove them correct? This project aims to establish Porcelain: a semantic framework for representing and analyzing memory safety techniques. In it, memory faults are elaborated about, for the purpose of proposing a programing language that exemplifies them. To demonstrate the utility of this framework, it was developed one memory safety strategy in order to demonstrate the model's proof capabilities.
\end{translatedabstract}

% lista de figuras
\listoffigures

% lista de tabelas
\listoftables

% lista de abreviaturas e siglas
% o parametro deve ser a abreviatura mais longa
% A NBR 14724:2011 estipula que a ordem das abreviações
% na lista deve ser alfabética (como no exemplo abaixo).
\begin{listofabbrv}{ASCII}
    \item[API] \emph{Application Programming Interface} (Interface Programável de Aplicação)
	\item[ASCII] \emph{American Standard Code for Information Interchange} (Código Padrão Americano para o Intercâmbio de Informação)
    \item[AST] \emph{Abstract Syntax Tree} (Árvore de Sintaxe Abstrata)
    \item[CFG] \emph{Control Flow Graph} (Grafo de Controle de Fluxo)
    \item[GC] \emph{Gabage Collection} (Coletor de Lixo)
    \item[OS] \emph{Operacional System} (Sistema Operacional)
    \item[PCL] \emph{Porcelain}
    \item[UB] \emph{Undefined Behavior} (Comportamento Indefinido)
\end{listofabbrv}

% segundo argumento do begin é o termo de maior tamanho do item, para o espaçamento
% \begin{listofsymbols}{$\alpha\beta\pi\omega$}
%     \item[$\Gamma$] Ambiente de nomes de variáveis a tipos 
%     \item[$U$] Ambiente de variáveis usadas
%     \item[$R$] Fechamento binário entre regiões.
%     \item[$L$] Fechamento binário entre regiões e conjunto de concessões.
% \end{listofsymbols}

% sumario
\tableofcontents

% aqui comeca o texto propriamente dito

% introducao
\include{chapters/1-Introducao.tex}
% 1. Introdução
%	1.1 Motivação
%	1.2 Related Work
%	1.3 Objetivos
%	1.4 Organização
\include{chapters/2-Background.tex}
% 2. Background
%	2.1 O que é Semantica Operacional
%   2.2 Erros de memória
\include{chapters/3-PCL-back.tex}
% 3. PCL back
%	3.1 Syntax
%	3.2 Memory Model
%	3.3 Operational Semantics
%	3.4 Error detection
\include{chapters/4-Caso-de-uso.tex}
% 4. Use Case: Borrow Checker (explica o borrow checker e o algoritmo do polonius)
%	4.1 Rust and the Borrow Checker
%	4.2 Tipos Lineares
%	4.3 Polonius
\include{chapters/5-PCL-front.tex}
% 5. PCL front
% 	5.1 PCL front's Borrow Checker
% 	5.2 Syntax
% 	5.3 Checagem de Tipos
%   5.4 Definição via compilação
%\include{chapters/6-Propriedades.tex}
% 6. Propriedades
\include{chapters/7-Conclusao.tex}
% 7. Conclusão
% 	7.1 Limitações
% 	7.2 Future Work


% referências
% aqui será usado o environment padrao `thebibliography'; porém, sugere-se
% seriamente o uso de BibTeX e do estilo abnt.bst (veja na página do
% UTUG)
%
% observe também o estilo meio estranho de alguns labels; isso é
% devido ao uso do pacote `natbib', que permite fazer citações de
% autores, ano, e diversas combinações desses

\bibliographystyle{abntex2-alf}
\bibliography{references}

\end{document}
